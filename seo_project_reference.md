# SEO Generator Project - Complete Reference Guide

> **Last Updated:** February 5, 2026
> **Project:** SEO & Schema Genius
> **Production URL:** https://seo.xopenai.in

---

## Table of Contents
1. [Project Overview](#project-overview)
2. [Server Details](#server-details)
3. [Understanding the Technology Stack](#understanding-the-technology-stack)
4. [Project Structure](#project-structure)
5. [Domain & DNS Configuration](#domain--dns-configuration)
6. [Nginx Web Server Setup](#nginx-web-server-setup)
7. [PM2 Process Manager](#pm2-process-manager)
8. [GitHub Auto-Deployment](#github-auto-deployment)
9. [Common Tasks & Commands](#common-tasks--commands)
10. [Troubleshooting](#troubleshooting)

---

## Project Overview

**What is this project?**
SEO & Schema Genius is a web application that helps optimize websites for search engines. It uses AI (Google Gemini and OpenAI GPT-4) to generate SEO variants, schema markup, and strategic recommendations.

**Key Features:**
- Generate 3 different SEO strategies for any webpage
- Create JSON-LD structured data (schema.org)
- Interactive AI chat assistant for refinements
- Support for multiple brand profiles
- Mobile-responsive design for all devices

---

## Server Details

### Digital Ocean Droplet Information

| Item | Details |
|------|---------|
| **Provider** | Digital Ocean |
| **Server IP** | `64.227.187.111` |
| **Operating System** | Ubuntu Linux |
| **SSH Access** | `ssh -i ~/.ssh/id_ed25519_digitalocean root@64.227.187.111` |
| **SSH Key Location** | `~/.ssh/id_ed25519_digitalocean` (on your Mac) |
| **User** | `root` |

### What is SSH?
SSH (Secure Shell) is like a secure tunnel that lets you control the server from your computer. Think of it as remote control for your server.

**How to connect:**
```bash
# Open Terminal on your Mac and type:
ssh -i ~/.ssh/id_ed25519_digitalocean root@64.227.187.111
```

This logs you into the server where you can run commands.

---

## Understanding the Technology Stack

### 1. **Nginx** - The Web Server (Traffic Director)

**What is Nginx?**
Think of Nginx as a smart receptionist at a building. When someone visits https://seo.xopenai.in:
- Nginx receives the request
- For regular web pages (HTML/CSS/JS), it serves files from `/var/www/seo-schema-generator/`
- For API requests (like `/api/generate`), it forwards them to your Node.js backend on port 3007

**Why do we need it?**
- It handles HTTPS (secure connections)
- It serves static files (HTML, CSS, images) very fast
- It acts as a "reverse proxy" - forwarding API requests to your backend

**Configuration Location:**
```
/etc/nginx/sites-available/seo-schema-generator
```

### 2. **PM2** - Process Manager (Keeps Your App Running)

**What is PM2?**
PM2 is like a babysitter for your Node.js application. It:
- Keeps your backend running 24/7
- Automatically restarts it if it crashes
- Lets you see logs and monitor the app

**Your PM2 Process:**
- **Name:** `seo-schema-generator-api`
- **Port:** 3007
- **Status Check:** `pm2 list`

### 3. **Node.js + Express** - Backend API Server

**What is it?**
Your Node.js backend (running on port 3007) handles:
- API calls to Gemini and OpenAI
- Processing SEO generation requests
- Chat assistant functionality
- Keeping API keys secure (not exposed to frontend)

### 4. **React + Vite** - Frontend Application

**What is it?**
The user interface that people see when they visit https://seo.xopenai.in
- Built with React (JavaScript library for building UIs)
- Compiled by Vite into optimized HTML/CSS/JS files
- Stored in `/var/www/seo-schema-generator/`

---

## Project Structure

### On the Server

```
/root/seo-schema-generator/          ← Main project directory
├── components/                      ← React UI components
├── services/                        ← API integration code
├── .env                            ← Environment variables (API keys) ⚠️ SECRET
├── server.js                       ← Node.js backend (runs on port 3007)
├── package.json                    ← Dependencies list
├── dist/                           ← Built frontend files (generated by `npm run build`)
└── .github/workflows/deploy.yml    ← Auto-deployment configuration

/var/www/seo-schema-generator/       ← Public web directory (served by Nginx)
└── (contains built files from dist/)
```

### Ports Explanation

| Port | Purpose | Accessible From |
|------|---------|-----------------|
| **80** | HTTP (redirects to 443) | Internet |
| **443** | HTTPS (secure, with SSL) | Internet → Goes to Nginx |
| **3007** | Node.js Backend API | Only from Nginx (not public) |

**Why port 3007?**
Each application on the server needs its own port. Port 3007 is used for this project's backend so it doesn't conflict with other projects (like webpage-builder on port 3005).

---

## Domain & DNS Configuration

### Domain Setup

**Domain:** `seo.xopenai.in`
**Main Domain:** `xopenai.in`

### How DNS Works (Simple Explanation)

Think of DNS like a phone book for the internet:
1. User types `https://seo.xopenai.in` in browser
2. DNS looks up: "What's the IP address for seo.xopenai.in?"
3. DNS responds: "It's 64.227.187.111"
4. Browser connects to that IP address
5. Nginx on the server responds with your website

### DNS Records (Set in Domain Registrar)

```
Type: A Record
Name: seo.xopenai.in
Value: 64.227.187.111
TTL: 3600
```

This tells the internet that `seo.xopenai.in` should point to your Digital Ocean server.

---

## Nginx Web Server Setup

### What Nginx Does (Step by Step)

1. **Listens for requests** on port 80 (HTTP) and 443 (HTTPS)
2. **Serves static files** from `/var/www/seo-schema-generator/` (your React app)
3. **Proxies API requests** from `/api/*` to `http://localhost:3007` (your Node.js backend)
4. **Handles SSL/HTTPS** with Let's Encrypt certificates

### Configuration File

**Location:** `/etc/nginx/sites-available/seo-schema-generator`

```nginx
server {
    listen 80;
    server_name seo.xopenai.in;

    root /var/www/seo-schema-generator;
    index index.html;

    # Frontend - SPA routing
    # If someone visits /results or /history, serve index.html
    location / {
        try_files $uri $uri/ /index.html;
    }

    # Backend API proxy
    # Forward /api/* requests to Node.js on port 3007
    location /api/ {
        proxy_pass http://127.0.0.1:3007;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

### SSL Certificate (HTTPS)

**Provider:** Let's Encrypt (Free SSL certificates)

**How it was set up:**
```bash
sudo certbot --nginx -d seo.xopenai.in
```

This command:
- Gets a free SSL certificate
- Configures Nginx to use HTTPS
- Auto-renews every 90 days

---

## PM2 Process Manager

### What is PM2 Doing?

PM2 keeps your Node.js backend (`server.js`) running on port 3007. If it crashes, PM2 automatically restarts it.

### Common PM2 Commands

```bash
# View all running processes
pm2 list

# View real-time logs
pm2 logs seo-schema-generator-api

# Restart the backend
pm2 restart seo-schema-generator-api

# Stop the backend
pm2 stop seo-schema-generator-api

# Start the backend
pm2 start server.js --name seo-schema-generator-api

# View detailed info about the process
pm2 show seo-schema-generator-api

# Save current PM2 configuration (so it survives server reboots)
pm2 save
```

### How PM2 Was Initially Set Up

```bash
cd /root/seo-schema-generator
pm2 start server.js --name seo-schema-generator-api
pm2 save
pm2 startup  # Makes PM2 start on server reboot
```

---

## GitHub Auto-Deployment

### How It Works (The Magic)

Whenever you push code to GitHub (main branch), it automatically deploys to production. Here's how:

```
Your Computer → GitHub → GitHub Actions → Digital Ocean Server → Production
```

**Step-by-Step:**
1. You run `git push origin main` from your Mac
2. GitHub receives the code
3. GitHub Actions workflow (`.github/workflows/deploy.yml`) triggers
4. GitHub Actions SSHs into your Digital Ocean server
5. Server pulls latest code, builds frontend, restarts backend
6. Your changes are live at https://seo.xopenai.in

### Auto-Deployment Configuration

**File:** `.github/workflows/deploy.yml`

```yaml
name: Deploy to Digital Ocean

on:
  push:
    branches:
      - main  # Triggers on push to main branch

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
    - name: Deploy to server
      uses: appleboy/ssh-action@v1.0.3
      with:
        host: 64.227.187.111
        username: root
        key: ${{ secrets.DEPLOY_SSH_KEY }}  # SSH key stored in GitHub Secrets
        script: |
          # Commands run on the server
          cd /root/seo-schema-generator
          git pull origin main
          npm install
          npm run build
          sudo cp -r dist/* /var/www/seo-schema-generator/
          sudo chown -R www-data:www-data /var/www/seo-schema-generator
          pm2 restart seo-schema-generator-api
```

### GitHub Secrets

**What are Secrets?**
Secrets are like locked safes in GitHub where you store sensitive information (like SSH keys) that workflows can use.

**Your Secret:**
- **Name:** `DEPLOY_SSH_KEY`
- **Content:** Your private SSH key (`id_ed25519_digitalocean`)
- **Location in GitHub:** Repository → Settings → Secrets and variables → Actions

**How to update the secret:**
1. Go to https://github.com/VikasPalavadhi/seo-optimizer/settings/secrets/actions
2. Click `DEPLOY_SSH_KEY`
3. Update with your SSH private key (including BEGIN and END lines)

---

## Common Tasks & Commands

### Task 1: View Live Website Logs

```bash
# SSH into server
ssh -i ~/.ssh/id_ed25519_digitalocean root@64.227.187.111

# View backend logs (real-time)
pm2 logs seo-schema-generator-api

# View Nginx access logs
tail -f /var/log/nginx/access.log

# View Nginx error logs
tail -f /var/log/nginx/error.log
```

### Task 2: Manual Deployment (If GitHub Actions Fails)

```bash
# SSH into server
ssh -i ~/.ssh/id_ed25519_digitalocean root@64.227.187.111

# Navigate to project
cd /root/seo-schema-generator

# Pull latest code
git pull origin main

# Install dependencies
npm install

# Build frontend
npm run build

# Copy to web directory
sudo cp -r dist/* /var/www/seo-schema-generator/
sudo chown -R www-data:www-data /var/www/seo-schema-generator

# Restart backend
pm2 restart seo-schema-generator-api
```

### Task 3: Update Environment Variables (API Keys)

```bash
# SSH into server
ssh -i ~/.ssh/id_ed25519_digitalocean root@64.227.187.111

# Edit .env file
cd /root/seo-schema-generator
nano .env

# Make your changes (e.g., update API_KEY or OPENAI_API_KEY)
# Press Ctrl+X, then Y, then Enter to save

# Restart backend to apply changes
pm2 restart seo-schema-generator-api
```

### Task 4: Check Server Health

```bash
# Check PM2 processes
pm2 list

# Check Nginx status
sudo systemctl status nginx

# Check disk space
df -h

# Check memory usage
free -h

# Check server uptime
uptime
```

### Task 5: View Deployment History

```bash
# On your Mac (in project directory)
gh run list --limit 10

# View specific deployment logs
gh run view <run-id> --log
```

### Task 6: Rollback to Previous Version

```bash
# SSH into server
ssh -i ~/.ssh/id_ed25519_digitalocean root@64.227.187.111

cd /root/seo-schema-generator

# View recent commits
git log --oneline -10

# Rollback to a specific commit
git reset --hard <commit-hash>

# Rebuild and deploy
npm install
npm run build
sudo cp -r dist/* /var/www/seo-schema-generator/
pm2 restart seo-schema-generator-api
```

---

## Troubleshooting

### Problem: Website is Down (500 Error or Not Loading)

**Step 1: Check Backend**
```bash
ssh -i ~/.ssh/id_ed25519_digitalocean root@64.227.187.111
pm2 list  # Is seo-schema-generator-api running?
pm2 logs seo-schema-generator-api  # Check for errors
```

**Step 2: Check Nginx**
```bash
sudo systemctl status nginx  # Is Nginx running?
sudo nginx -t  # Test Nginx configuration
tail -f /var/log/nginx/error.log  # Check error logs
```

**Step 3: Restart Services**
```bash
pm2 restart seo-schema-generator-api
sudo systemctl reload nginx
```

### Problem: API Keys Not Working

**Symptoms:** Gemini or OpenAI returns errors like "API key missing" or "401 Unauthorized"

**Solution:**
```bash
ssh -i ~/.ssh/id_ed25519_digitalocean root@64.227.187.111
cd /root/seo-schema-generator
cat .env  # Verify API keys are present

# If missing or wrong, update:
nano .env

# Restart backend
pm2 restart seo-schema-generator-api
```

### Problem: GitHub Actions Deployment Failed

**Step 1: Check Workflow Status**
```bash
# On your Mac
gh run list --limit 1

# View failure logs
gh run view <run-id> --log
```

**Common Issues:**
- **SSH key invalid:** Update `DEPLOY_SSH_KEY` secret in GitHub
- **npm command not found:** NVM path issue (should be fixed in deploy.yml)
- **Permission denied:** SSH key doesn't have access

**Solution:**
Re-push to trigger deployment:
```bash
git commit --allow-empty -m "Trigger deployment"
git push origin main
```

### Problem: Frontend Changes Not Showing

**Cause:** Browser cache or build didn't deploy correctly

**Solution 1: Hard Refresh Browser**
- Chrome/Edge: `Ctrl+Shift+R` (Windows) or `Cmd+Shift+R` (Mac)
- Firefox: `Ctrl+F5`

**Solution 2: Verify Files on Server**
```bash
ssh -i ~/.ssh/id_ed25519_digitalocean root@64.227.187.111
ls -la /var/www/seo-schema-generator/
# Check if files have recent timestamp
```

**Solution 3: Manual Rebuild**
```bash
cd /root/seo-schema-generator
npm run build
sudo cp -r dist/* /var/www/seo-schema-generator/
```

### Problem: Port 3007 Already in Use

**Symptoms:** Backend won't start, error says "Port 3007 is already in use"

**Solution:**
```bash
# Find process using port 3007
lsof -i :3007

# Kill the process (use PID from above command)
kill -9 <PID>

# Or just restart PM2
pm2 restart seo-schema-generator-api
```

### Problem: SSL Certificate Expired

**Symptoms:** Browser shows "Not Secure" or certificate warning

**Solution:**
```bash
ssh -i ~/.ssh/id_ed25519_digitalocean root@64.227.187.111

# Renew certificate
sudo certbot renew

# Reload Nginx
sudo systemctl reload nginx
```

**Note:** Certbot should auto-renew, but if it fails, run the above manually.

---

## Quick Reference Card

### Essential Commands Cheat Sheet

```bash
# SSH into server
ssh -i ~/.ssh/id_ed25519_digitalocean root@64.227.187.111

# Check backend status
pm2 list

# View backend logs
pm2 logs seo-schema-generator-api

# Restart backend
pm2 restart seo-schema-generator-api

# Check Nginx status
sudo systemctl status nginx

# Reload Nginx
sudo systemctl reload nginx

# View deployment status (from Mac)
gh run list --limit 5

# Manual deployment
cd /root/seo-schema-generator && \
git pull && \
npm install && \
npm run build && \
sudo cp -r dist/* /var/www/seo-schema-generator/ && \
pm2 restart seo-schema-generator-api
```

---

## Environment Variables (.env file)

**Location on Server:** `/root/seo-schema-generator/.env`

```env
API_KEY=<your-gemini-api-key>
GEMINI_API_KEY=<your-gemini-api-key>
OPENAI_API_KEY=<your-openai-api-key>
PORT=3007
NODE_ENV=production
FRONTEND_URL=https://seo.xopenai.in
```

**⚠️ SECURITY WARNING:**
- Never commit `.env` to GitHub (it's in `.gitignore`)
- Keep API keys secret
- Only update on server via SSH

---

## Architecture Diagram

```
┌─────────────────────────────────────────────────────────┐
│                   User's Browser                        │
│               https://seo.xopenai.in                    │
└───────────────────────┬─────────────────────────────────┘
                        │
                        │ Internet
                        ▼
┌─────────────────────────────────────────────────────────┐
│           Digital Ocean Server (64.227.187.111)         │
│  ┌───────────────────────────────────────────────────┐  │
│  │  Nginx (Port 80/443)                              │  │
│  │  - Serves static files from /var/www/            │  │
│  │  - Proxies /api/* to port 3007                   │  │
│  └──────────────┬──────────────────┬─────────────────┘  │
│                 │                  │                     │
│       Static    │                  │ API                 │
│       Files     │                  │ Requests            │
│                 ▼                  ▼                     │
│  ┌──────────────────┐  ┌──────────────────────────┐    │
│  │  /var/www/       │  │  Node.js Backend         │    │
│  │  seo-schema-     │  │  (PM2: port 3007)        │    │
│  │  generator/      │  │  - Express API           │    │
│  │  (React app)     │  │  - Gemini/OpenAI calls   │    │
│  └──────────────────┘  └──────────────────────────┘    │
│                                                          │
│  ┌──────────────────────────────────────────────────┐  │
│  │  /root/seo-schema-generator/                     │  │
│  │  (Source code, GitHub sync)                      │  │
│  └──────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────┘
                        ▲
                        │
                        │ GitHub Actions
                        │ Auto-Deployment
                        │
┌─────────────────────────────────────────────────────────┐
│                  GitHub Repository                      │
│        https://github.com/VikasPalavadhi/              │
│                  seo-optimizer                          │
└─────────────────────────────────────────────────────────┘
                        ▲
                        │
                        │ git push
                        │
┌─────────────────────────────────────────────────────────┐
│              Your Mac (Local Development)               │
│      /Users/sarivikky/Vikas/work/                      │
│      seo-schema-generator/                             │
└─────────────────────────────────────────────────────────┘
```

---

## Security Best Practices

1. **Never commit API keys** - They're in `.env` which is in `.gitignore`
2. **Use HTTPS only** - Let's Encrypt provides free SSL
3. **Keep dependencies updated** - Run `npm audit` regularly
4. **Limit SSH access** - Only use your SSH key, no password login
5. **Monitor logs** - Check PM2 and Nginx logs for suspicious activity
6. **Backup regularly** - Digital Ocean provides snapshot backups
7. **Rate limiting** - Backend has rate limiting (20 requests per 15 min per IP)

---

## Contact & Support

**Repository:** https://github.com/VikasPalavadhi/seo-optimizer
**Production URL:** https://seo.xopenai.in
**Server IP:** 64.227.187.111
**Backend Port:** 3007

**User Accounts (Frontend Login):**
- Username: `hakan` | Password: `WPBmartech@i2025`
- Username: `vikas` | Password: `WPBmartech@i2025`
- Username: `sudhir` | Password: `WPBmartech@i2025`

---

## Glossary of Terms

**API:** Application Programming Interface - a way for programs to talk to each other
**Backend:** The server-side code that processes requests and talks to AI services
**DNS:** Domain Name System - converts domain names to IP addresses
**Frontend:** The user interface (HTML/CSS/JavaScript) that runs in the browser
**HTTPS:** Secure version of HTTP, encrypts data between browser and server
**IP Address:** A unique number identifying a computer on the internet (like 64.227.187.111)
**JSON:** JavaScript Object Notation - a format for storing and exchanging data
**Nginx:** A web server software that handles incoming requests
**Node.js:** JavaScript runtime for running JavaScript on the server
**PM2:** Process manager that keeps Node.js apps running
**Port:** A numbered channel for network communication (like 3007 or 443)
**Proxy:** A middleman that forwards requests (Nginx proxies /api/* to port 3007)
**React:** JavaScript library for building user interfaces
**SSL/TLS:** Security protocols that enable HTTPS
**SSH:** Secure Shell - encrypted way to remotely control a server
**Vite:** Build tool that compiles React code into optimized HTML/CSS/JS

---

**End of Reference Guide**

*This guide is your complete reference for managing the SEO Generator project. Bookmark it and refer back whenever you need to understand or modify the setup.*
